\includepdf[pages=1,pagecommand=\chapter{Risk Assessment},width=1\textwidth,height=1\textheight,keepaspectratio]{Risk_Assess}

\includepdf[pages=2-,width=1\textwidth,height=1\textheight,keepaspectratio]{Risk_Assess}


\chapter{Data\label{chap:Apx-Data}}

\begin{tikzpicture}[dirtree]
\node {Data (CD)}
  child {
    child { node {litresults.csv and litresults.xls - Results gathered from literature} }
    child { node {MFCOutput.txt - Results of ASR system} }
    child { node {MOSscores.csv - Results of MOS tests} }
    child { node {testResults.csv - Congregated data of all tests performed} }
    child { node {TestSubjects.csv - Data on the MOS test subjects} }
  };
\end{tikzpicture}


\section{Data Congregated from Literature\label{sec:litresults}}

See \lstinline[style=myInline]!CD:/Data/litresults.csv!


\section{Test Data\label{sec:testresults}}

See \lstinline[style=myInline]!CD:/Data/testResults.csv!


\chapter{Code}

\begin{tikzpicture}[dirtree]
\node {Code (CD)}
  child { node {MATLAB}
    child { node {BNMF}
      child { node {$@$NMF/ - Modified NMF Class} }
      child { node {MySpectrogram.m - Spectrogram for NMF class} }
    }
    child { node {mytools}
      child { node {getAllFiles.m - Get all files in dir} }
      child { node {getAllFolders.m - Get all folders in dir} }
      child { node {getfromifo.m - Get WSJCAM0 talker information from their .ifo file} }
      child { node {normalise.m - Normalise a signal to range [-1, 1]} }
    }
    child { node {phonemeDependent}
      child { node {constructVMatrix.m - Construct spectral component matrix} }
      child { node {drawPhnSamples.m - Draw a given number of random phoneme samples} }
      child { node {getPhnData.m - Get a file list of .phn and .wav files for a speaker} }
      child { node {getSpeakerFiles.m - Get a file list of .phn and .wav files for a speaker} }
    }
    child { node {Test}
      child { node {cprintf.m - print in colour to console} }
      child { node {createTestDataBabble.m - Create test data using babble noise} }
      child { node {IDBM.m - Wojcicki's ideal binary mask algorithm} }
      child { node {MMSE.m - Voicebox's MMSE algorithm} }
      child { node {modifiedOnline.m - My phoneme base online algorithm} }
      child { node {modifiedSupervised.m - My phoneme base supervised algorithm} }
      child { node {mohammadiaOnline.m - Mohammadia's online algorithm} }
      child { node {mohammadiaSupervised.m - Mohammadia's supervised algorithm} }
      child { node {MOS.m - MOS function} }
      child { node {MOSscript.m - Run MOS test} }
      child { node {varyingTrainingAnalysis.m - Run analysis of enhancement (PESQ, segSNR)} }
      child { node {varyingTrainingTest.m - Perform enhancement} }
    }
  }
  child { node {Python}
    child { node {ASR.py - Script to perform HTK} }
    child { node {MFC HComp VConfig.ini - MFCC config} }
    child { node {MFCProto - MFCC prototype} }
  };
\end{tikzpicture}

\begin{tikzpicture}[dirtree]
\node {Code (CD)}
  child {
    node {R}
    child { node {dat - Data for plotting} }
    child { node {fig - Output dir for figures} }
    child { node {gatherData.R - Gather data from various locations and congregate} }
    child { node {litdirectComp.R - Direct comparison of data from literature} }
    child { node {litResCorr.R - Correlogram of literature results} }
    child { node {litresults.csv and litresults.xlsx - Literature results} }
    child { node {myCorrgramPanels.R - Panels for custom correlogram} }
    child { node {myTests.R - Analyse test results} }
    child { node {statFunctions.R - Calculate confidence intervals} }
    child { node {trainReq.R - Analyse Utterance Training Requirements} }
    child { node {trainReqPhn.R - Analyse Phoneme Training Requirements} }
    child { node {viewMOS.R - View MOS results} }
  };
\end{tikzpicture}


\section{MATLAB Test Code}

\lstset{style=Matlab-editor,basicstyle=\mlttfamily\small\singlespacing,title=\lstname}

\begin{listing}[H]
\protect\caption{Create Test Data MATLAB Code\label{lst:createTestData}}


\lstinputlisting[lastline=12]{../Code/MATLAB/Test/createTestDataBabble.m}
\end{listing}


%\lstinputlisting[firstline=47,firstnumber=last]{../Code/MATLAB/Test/createTestDataBabble.m}

\begin{listing}[H]
\protect\caption{``Varying Training'' Test MATLAB Code\label{lst:varyingTrainingTest}}


See \lstinline[style=myInline]!CD:/Code/MATLAB/Test/varyingTrainingTest.m!

%\lstinputlisting[lastline=53]{../Code/MATLAB/Test/varyingTrainingTest.m}
\end{listing}


%\lstinputlisting[firstline=54,firstnumber=last]{../Code/MATLAB/Test/varyingTrainingTest.m}

\begin{listing}[H]
\protect\caption{Online \acs{BNMF} MATLAB Code\label{lst:mohammadiaOnline}}


\lstinputlisting[lastline=14]{../Code/MATLAB/Test/mohammadiaOnline.m}
\end{listing}


%\lstinputlisting[firstline=54,firstnumber=last]{../Code/MATLAB/Test/mohammadiaOnline.m}

\begin{listing}[H]
\protect\caption{Supervised \acs{BNMF} MATLAB Code\label{lst:mohammadiaSupervised}}


\lstinputlisting[lastline=14]{../Code/MATLAB/Test/mohammadiaSupervised.m}
\end{listing}


%\lstinputlisting[firstline=54,firstnumber=last]{../Code/MATLAB/Test/mohammadiaSupervised.m}

\begin{listing}[H]
\protect\caption{Online \acs{BNMF} with Phoneme-Dependent Bases MATLAB Code\label{lst:modifiedOnline}}


\lstinputlisting[lastline=14]{../Code/MATLAB/Test/modifiedOnline.m}
\end{listing}


%\lstinputlisting[firstline=54,firstnumber=last]{../Code/MATLAB/Test/modifiedOnline.m}

\begin{listing}[H]
\protect\caption{Supervised \acs{BNMF} with Phoneme-Dependent Bases MATLAB Code\label{lst:modifiedSupervised}}


\lstinputlisting[lastline=14]{../Code/MATLAB/Test/modifiedSupervised.m}
\end{listing}


%\lstinputlisting[firstline=54,firstnumber=last]{../Code/MATLAB/Test/modifiedSupervised.m}

\begin{listing}[H]
\protect\caption{Spectral Subtraction \acs{MMSE} MATLAB Code\label{lst:MMSE}}


\lstinputlisting[lastline=4]{../Code/MATLAB/Test/MMSE.m}
\end{listing}


\begin{listing}[H]
\protect\caption{Ideal Binary Mask MATLAB Code\label{lst:IDBM}}


\lstinputlisting[lastline=4]{../Code/MATLAB/Test/IDBM.m}
\end{listing}


\begin{listing}[H]
\protect\caption{``Varying Training'' Analysis MATLAB Code\label{lst:varyingTrainingAnalysis}}


See \lstinline[style=myInline]!CD:/Code/MATLAB/Test/varyingTrainingAnalysis.m! 

%\lstinputlisting[lastline=53]{../Code/MATLAB/Test/varyingTrainingAnalysis.m}
\end{listing}


%\lstinputlisting[firstline=54,firstnumber=last]{../Code/MATLAB/Test/varyingTrainingAnalysis.m}

\begin{listing}[H]
\protect\caption{Draw Phone Samples MATLAB Code\label{lst:drawPhnSamples}}


\lstinputlisting[lastline=9]{../Code/MATLAB/phonemeDependent/drawPhnSamples.m}
\end{listing}


%\lstinputlisting[firstline=54,firstnumber=last]{../Code/MATLAB/phonemeDependent/drawPhnSamples.m}
\begin{listing}[H]
\protect\caption{Get Speaker Files MATLAB Code\label{lst:getSpeakerFiles}}


\lstinputlisting[lastline=53]{../Code/MATLAB/phonemeDependent/getSpeakerFiles.m}
\end{listing}


\begin{listing}[H]
\protect\caption{Get Phone Data MATLAB Code\label{lst:getPhnData}}


\lstinputlisting[lastline=53]{../Code/MATLAB/phonemeDependent/getPhnData.m}
\end{listing}


\begin{listing}[H]
\protect\caption{Modifications to NMF train MATLAB Code\label{lst:NMF-train}}


The following code is a modified version of code supplied in \cite{mohammadiha2013supervised}.
Modifications are the dummyTrain function, to replace train, eliminating
the training process such that the spectral component matrix may be
directly supplied.

\lstinputlisting[firstline=240,firstnumber=240,lastline=264]{../Code/MATLAB/BNMF/@NMF/NMF.m}
\end{listing}


\begin{listing}[H]
\protect\caption{Full MOS Test MATLAB Code\label{lst:MOSScript}}


\lstinputlisting[lastline=3]{../Code/MATLAB/Test/MOSScript.m}
\end{listing}


%\lstinputlisting[firstline=54,firstnumber=last]{../Code/MATLAB/Test/MOSScript.m}

\begin{listing}[H]
\protect\caption{MOS Test Function MATLAB Code\label{lst:MOS}}


\lstinputlisting[lastline=8]{../Code/MATLAB/Test/MOS.m}
\end{listing}


%\lstinputlisting[firstline=54,firstnumber=last]{../Code/MATLAB/Test/MOS.m}


\section{Python Code}

\lstset{
language=Python,
basicstyle=\mlttfamily\footnotesize\singlespacing,
otherkeywords={self},
keywordstyle=\color{deepblue},
emph={MyClass,__init__},
emphstyle=\color{deepred},
stringstyle=\color{deepgreen},
showstringspaces=false
}

\begin{listing}[H]
\protect\caption{ASR Python Script\label{lst:ASR}}


\lstinputlisting[lastline=10]{../Code/python/ASR.py}
\end{listing}


%\lstinputlisting[firstline=54,firstnumber=last]{../Code/python/ASR.py}


\section{R Analysis Code}

\lstset{ language=R,% set programming language
         title=\lstname,
         basicstyle=\footnotesize\ttfamily\singlespacing,% basic font style
         keywordstyle=\color{blue},% keyword style
         commentstyle=\ttfamily\itshape\color{gray},% comment style
         numbers=left,% display line numbers on the left side
         numberstyle=\scriptsize\color{gray},% use small line numbers
         numbersep=10pt,% space between line numbers and code
         tabsize=2,% sizes of tabs
         showstringspaces=false,% do not replace spaces in strings by a certain character
%         captionpos=b,% positioning of the caption below
         breaklines=true,% automatic line breaking
         escapeinside={(*}{*)},% escaping to LaTeX
%         fancyvrb=true,% verbatim code is typset by listings
         extendedchars=false,% prohibit extended chars (chars of codes 128--255)
         literate={<-}{{$\leftarrow$}}1{<<-}{{$\twoheadleftarrow$}}1
         {~}{{$\sim$}}1{<=}{{$\le$}}1{>=}{{$\ge$}}1{!=}{{$\neq$}}1{^}{{$^\wedge$}}1,% item to replace, text, length of chars
         alsoletter={.<-},% becomes a letter
         alsoother={$},% becomes other
         otherkeywords={!=, ~, $, *, \&, \%/\%, \%*\%, \%\%, <-, <<-},% other keywords
         stringstyle=\color{dkgreen},
         deletekeywords={c, /}% remove keywords
}

\begin{listing}[H]
\protect\caption{Literature Direct Comparison R Code\label{lst:directComp}}


\lstinputlisting[lastline=2]{../Code/R/litdirectComp.R}
\end{listing}


%\lstinputlisting[firstline=55,firstnumber=last]{../Code/R/litdirectComp.R}

\begin{listing}[H]
\protect\caption{Training Requirement Comparison R Code\label{lst:trainReq}}


\lstinputlisting[lastline=2]{../Code/R/trainReq.R}
\end{listing}


%\lstinputlisting[firstline=61,firstnumber=last]{../Code/R/trainReq.R}

\begin{listing}[H]
\protect\caption{Training Requirement of Phoneme-dependent algorithms Comparison R
Code\label{lst:trainReqPhn}}


\lstinputlisting[lastline=2]{../Code/R/trainReqPhn.R}
\end{listing}


%\lstinputlisting[firstline=61,firstnumber=last]{../Code/R/trainReqPhn.R}
